<p>Viser de ulike Google Apps kontoene med hvilke foreningsbrukere som har tilgang. UKEstyret og administratorer kan redigere listen.</p>
<p><a href ng-click="edit=true" ng-show="!edit && canEdit">rediger</a></p>
<div ng-repeat="(group, list) in accounts|groupBy:'group'">
    <h2>{{group}}</h2>
    <div ng-repeat="account in list">
        <h4>{{account.accountname}} <a href ng-show="edit" ng-click="deleteAccount(account._id)">slett</a></h4>
        <p ng-show="account.users.length == 0">
            Ingen har tilgang til denne kontoen.
        </p>
        <ul>
            <li ng-repeat="user in account.users">
                {{user.username}} <a href ng-show="edit" ng-click="deleteUser(user._id)">slett</a>
            </li>
            <li ng-show="edit">
                <form class="form-inline">
                    <input class="form-control" type="text" ng-model="account.username" placeholder="Foreningsbruker" />
                    <input class="btn btn-primary" type="submit" value="Gi tilgang" ng-click="addUser(account.accountname, account.username)" />
                </form>
            </li>
        </ul>
    </div>
</div>

<div ng-show="edit">
    <h2>Ny konto</h2>
    <form class="form-inline">
        <p>
            <input class="form-control" type="text" ng-model="newAccount.accountname" placeholder="Google-konto" />
            <input class="form-control" type="text" ng-model="newAccount.group" placeholder="Gruppe" />
            <input class="btn btn-primary" type="submit" value="Opprett" ng-click="createAccount()" />
        </p>
    </form>
</div>
