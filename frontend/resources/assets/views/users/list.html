<p ng-if="!sections">Laster informasjon..</p>
<div ng-show="sections">
	<p>Denne brukerlisten kan ses av alle innloggede brukere. Totalt eksisterer det {{user_count}} brukere i systemet.</p>

	<div class="panel userlist" ng-class="section.paneltag" ng-repeat="section in sections">
		<div class="panel-heading">{{section.title}} ({{section.users.length}} stk)</div>
		<table class="table table-striped table-hover table-condensed">
			<thead>
				<tr>
					<th>Brukernavn</th>
					<th>Navn</th>
					<th>E-post</th>
					<th>Telefon</th>
					<th>Grupper</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="user in section.users">
					<td><a ng-href="user/{{user.username}}">{{user.username}}</a></td>
					<td>{{user.realname}}</td>

					<td ng-if="hidemail"><i>Skjult</i></td>
					<td ng-if="!hidemail && user.email">{{user.email}}</td>
					<td ng-if="!hidemail && !user.email" class="text-muted"><i>Ukjent</i></td>
					
					<td>{{user.phone || '&nbsp;'}}</td>
					
					<td ng-if="user.groups.length > 0">
						<span ng-repeat="group in user.groups">
							<a ng-href="group/{{group}}">{{group}}</a><span ng-if="!$last">,</span>
						</span>
					</td>
					<td ng-if="user.groups.length == 0">
						<i class="text-muted">Ingen grupper</i>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>